<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Документ</title>
    <link rel="stylesheet" href="css/laba.css">
    <link rel="stylesheet" href="css/modal.css">

    <script type="importmap">
        {
        "imports": {
            "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
            "three/examples/jsm/": "https://unpkg.com/three@0.160.0/examples/jsm/"
        }
        }
    </script>
</head>

<body>
    <script src="js/script.js" type="module"></script>
    <div class="container">
        <div class="header">
            <div class="header-top">
                <span class="left-header">Обработка трехмерных графических изображений</span>
                <span class="right-header">2.1 Моделирование освещения, работа с камерой</span>
            </div>
            <div class="header-bottom">
                <a href="index.html" class="toc-link" onclick="showTableOfContents()">Содержание</a>
            </div>
        </div>
        <div class="content">
            <div class="text-content" id="text-content">
                <h1>Лабораторная работа №11</h1>
                <h2 class="topic">Управление источниками света</h2>

                <h3>Цель:</h3>
                <ol>
                    <li>Изучить установку и настройку камер</li>
                    <li>Познакомить с Рендером</li>

                </ol>

                <h3>Ход работы</h3>
                <p>При моделировании мы видим рабочую область сцены, а чтобы увидеть объекты как в реальном мире мы
                    должны посмотреть на них через камеру. Рендеринг (Визуализация) -получение изображения на основе
                    моделей и заданных параметров различных объектов на сцене учитывая физические законы, например, в
                    сцене без света мы получим черное изображение, сколько бы объектов на нем не было. Камера - это
                    глаза нашей сцены. Благодаря свету мы видим. Ночью человеческий глаз ничего не воспринимает. Таким
                    же образом себя ведет и камера. Объем объектов воспринимается только благодаря свету и тени. А тень,
                    в свою очередь, это те места, в которые попадает меньше света.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_11/images/image_1.3.jpg">
                </div>
                <p class="figure">Рисунок 1</p>

                <p class="p_heading">Камеры</p>
                <p>Камера — это объект, который предоставляет средства визуализации изображений из Blender. Он
                    определяет, какие части сцены видны в изображении. По умолчанию сцена содержит одну камеру. Однако
                    сцена может содержать более чем одну камеру, но только одна из них будет использоваться
                    одновременно. Поэтому вам нужно будет только добавить новые камеры, если Вы будете переключаться
                    между ними. See Анимация камер.</p>
                <p>Смена активной камеры</p>

                <div class="container_images_rows">
                    <div class="container_images_columns"><img src="lb/laba_11/images/image_2.jpg">
                        <p>Активная камера (слева).</p>
                    </div>
                </div>
                <p class="figure">Рисунок 2</p>
                <p>Активная камера — это камера, которая используется в данный момент для визуализации и вида камеры (
                    Numpad0 ).</p>
                <p>Выберите камеру, которую Вы хотите сделать активной и нажмите Ctrl-Numpad0 (таким образом, Вы также
                    переключитесь на вид из камеры). Итак, для визуализации, каждая сцена должна иметь активную камеру.
                </p>
                <p>Активная камера может быть также установлена в контексте Сцены редактора свойств. Камеры с залитым
                    треугольником на верхней части активной камеры.</p>
                <p>Активная камера, как и слои, может быть характерного вида или глобальная (заблокированная) для всей
                    сцене Локальная камера.</p>
                <p>Как и все другие объекты в Blender, камера имеет набор настроек. Выберите камеру и в Окне Свойств
                    перейдите в раздел Camera. Здесь представлены некоторые доступные настройки:</p>

                <div class="container_images_rows">
                    <img src="lb/laba_11/images/image_3.jpg">
                </div>
                <p class="figure">Рисунок 3</p>
                <ul>
                    <li>Perspective / Orthographic - Используется для переключения камеры между отображением как в
                        реальном мире с перспективой и отображением сцены в ортогональном виде.</li>
                    <li>Lens (Focal) - настройка фокусного расстояния точно так же, как в реальной камере. 35(мм),
                        хорошее значение, но иногда используют более широкий или более узкий угол обзора.</li>
                    <li>Panorama - Изменяет тип обзора камеры на цилиндрический.</li>
                    <li>Shift - Смещает вид камеры влево, вправо, вверх, вниз от обычного направления обзора без
                        изменения направления перспективы.</li>
                    <li>Clipping - Параметры Start и End определяют соответственно насколько близко или далеко объект
                        может находиться по отношению к камере и быть видимым. В больших сценах эти значения необходимо
                        увеличивать, иначе часть объектов окажется невидна на финальном изображении.</li>
                    <li>DOF - (Depth of Field) - глубина резко изображаемого пространства. Используется совместно с
                        системой нодов, создает эффект смазывания объектов, расположенных ближе и дальше от
                        определенного объекта. Об этом мы подробнее поговорим в главе " Работа с Нодами ".</li>
                    <li>Limits - Рисует линию в сцене, помогающую определить область видимости камеры.</li>
                    <li>Size - Какого размера должен быть вид из камеры на экране. Вы также можете изменить этот
                        параметр простым масштабированием.</li>
                    <li>Show Mist - Используется для определения как далеко может видеть камера при использовании Тумана
                        (Подробнее об этом в Главе 5).</li>
                    <li>Title Safe - Режим отображения внутреннего пунктирного прямоугольника, предназначенного для
                        центрирования положения объектов и текста.</li>
                    <li>Name - Как и для всех объектов, название камеры можно отобразить на экране. Однако имя камеры
                        будет видно только при виде из камеры.</li>
                    <li>Passepartout - Затемнение области экрана вне зоны видимости камеры. Вы можете управлять степенью
                        затемнения с помощью слайдера Alpha.</li>
                </ul>
                <p class="p_heading">Упражнение 1.</p>

                <p>Но как же быть с цветом? Когда свет попадает на объект, то часть света поглощается объектом, а
                    остальное отражается. Отраженный свет глаза воспринимают как цвет. Поэтому для камеры, как и для
                    наших глаз, необходим свет.</p>
                <p>Давайте взглянем на что смотрит камера: нажмем цифру 0 на цифровой клавиатуре (повторным нажатием
                    выходим из просмотра камеры). Обратите внимание, что камера должна быть выделена (подсвечена
                    оранжевой обводкой).</p>

                <div class="container_images_rows">
                    <img src="lb/laba_11/images/image_4.jpg">
                </div>
                <p class="figure">Рисунок 4</p>

                <p>Мы можем настроить положение камеры, нажмем на клавиатуре G (русская П) и перемещаем мышкой. При
                    щелчке ЛКМ (левой кнопки мыши) - фиксируем выбранный ракурс. ПКМ -отменяем изменение ракурса.
                    Приблизить и отдалить - удерживать G, ЦКМ (центральную клавишу мыши) и перемещать мышь.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_11/images/image_5.jpg">
                </div>
                <p class="figure">Рисунок 5</p>
                <p>Клавиша R (русская К) - поворот камеры (и также ЛКМ фиксируем, ПКМ - отменяем вращение).</p>

                <div class="container_images_rows">
                    <img src="lb/laba_11/images/image_6.jpg">
                </div>
                <p class="figure">Рисунок 6</p>

                <p>При двойном нажатии R - вращение камеры .</p>
                <div class="container_images_rows">
                    <img src="lb/laba_11/images/image_7.jpg">
                </div>
                <p class="figure">Рисунок 7</p>

                <p>Есть более легкий способ установки камеры: откроем панель свойств и поставим галочку напротив
                    «Привязать камеру к виду». После установки камеры галочку можно снять.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_11/images/image_8.jpg">
                </div>
                <p class="figure">Рисунок 8</p>

                <p>Камеру установили. Запускаем визуализацию (рендеринг): F12.</p>
                <p>Видим объект и собственную тень. Теперь давайте добавим плоскость, на которой будет стоять кубик,
                    окрасим его и посмотрим как он будет выглядеть.</p>
                <p>При визуализации можем видеть собственную тень, падающую тень и собственно цвет кубика.</p>

                <div class="container_images_rows">
                    <img src="lb/laba_11/images/image_9.jpg">
                </div>
                <p class="figure">Рисунок 9</p>
                <p>Зададим цвет нашей плоскости:</p>
                <div class="container_images_rows">
                    <img src="lb/laba_11/images/image_10.jpg">
                </div>
                <p class="figure">Рисунок 10</p>

                <div class="container_images_rows">
                    <img src="lb/laba_11/images/image_11.jpg" class="glow openModal">
                </div>
                <p class="figure">Рисунок 11</p>
                <p>Нажмем F12</p>
                <div class="container_images_rows">
                    <img src="lb/laba_11/images/image_12.jpg">
                </div>
                <p class="figure">Рисунок 12</p>
                <p class="p_heading">Основные Настройки Рендера</p>

                <p>Раздел "Рендер" (Render) - это то место, где вы можете указать программе каким образом отрисовывать
                    вашу сцену.</p>

                <div class="container_images_rows">
                    <img src="lb/laba_11/images/image_13.jpg">
                </div>
                <p class="figure">Рисунок 13</p>
                <p>Что вы хотите получить в итоге: изображение в формате .jpeg или видеоролик? Какого размера
                    изображение вы хотите получить? Хотите ли вы получить изображение высокого качества или же вам нужен
                    быстрый черновой вариант? Как на счет эффекта быстрого перемещения Motion Blur? Хотите ли вы
                    использовать обычный метод расчета теней или получить все оптические эффекты с Ray-tracing? Если вы
                    делаете видео, сколько кадров за секунду видео должно проигрываться? И последнее, но не менее
                    важное, где вы хотите сохранить файл?</p>
                <p>Все это мы сможем настроить в разделе Render в Окне Свойств.</p>
                <p>Естественно, чем выше качество вы установите, тем больше времени займет процесс рендеринга и тем
                    большего размера будет результирующий файл.</p>

                <p>Интерфейс и Настройки Рендера</p>

                <p>Для сохранения вашей работы в формате изображения или видео потребуется сделать достаточно большое
                    количество настроек.</p>
                <ul>
                    <li>Кнопки Render и Animation: Нажатие горячей клавиши "F12" аналогично нажатию кнопки Render. Для
                        создания видео нажмите кнопку Animation.</li>
                    <li>Панель Layers (Слои): Параметры, указывающие рендеру какие слои и группы использовать при
                        просчете финального изображения.</li>
                    <li>Панель Dimensions: Здесь вы указываете размер изображения, диапазон кадров, масштаб и скорость
                        финального видео в кадрах в секунду.</li>
                    <li>Панель Anti-Aliasing: Количество образцов, используемых при сглаживании объектов на финальном
                        изображении. По умолчанию установлено значение 8.</li>
                    <li>Панель Motion Blur: Используется для симуляции смазывания при быстром движении.</li>
                    <li>Панель Shading: Здесь вы можете выбрать элементы сцены, которые хотите рендерить. Отключение
                        элементов, которые вам не нужны, значительно ускоряет процесс рендеринга.</li>
                    <li>Панель Output: Здесь вы можете выбрать тип конечного файла и место его сохранения. Также здесь
                        вы можете настроить параметры сжатия изображения. Будет хорошей идеей указывать расширение
                        файла, когда вы печатаете его имя. При создании видео здесь будут параметры кодирования потока.
                    </li>
                    <li>Панель Performance: Параметры производительности рендера.</li>
                    <li>Панель Post Processing: Если вы делаете композитинг или sequence (обсуждается чуть позже в этой
                        книге) параметры их применения будут находиться здесь.</li>
                    <li>Панель Stamp: Добавление пометок и дополнительной информации на кадры видеоряда.</li>
                    <li>Панель Bake: Запекание (baking) - это возможность сохранить и повторно использовать определенный
                        процесс для ускорения рендера.</li>
                </ul>



                <div class="container_images_rows">
                    <img src="lb/laba_11/images/image_14.jpg">
                </div>
                <p class="figure">Рисунок 14</p>
                <p class="p_heading">Установки Сцены (Scene)</p>

                <p>Панель Scene: Здесь вы можете указать какую камеру и какой задний фон использовать при рендеринге (в
                    случае, когда у вас несколько камер и несколько задних фонов в сцене).</p>
                <p>Панель Units: Новый набор параметров для Blender. Здесь вы можете установить систему измерений,
                    выбрав между "Blender Units", Метрической и Английской системами. Способы измерения углов так же
                    могут быть настроены.</p>
                <p>Панель Keying Sets: Также новый раздел. Используется для обращения к новой системе F- кривых (F-
                    Curve, обсуждается в дальнейших главах)</p>
                <p>Панель Gravity: Используется для физического движка и игровой логики.</p>
                <p>Панель Simplify: Удобно использовать для создания быстрого упрощенного рендера сцены для
                    предпросмотра. Экономьте время, меняя качество мешей и теней.</p>
                <p>В большинстве случаев вы будете оставлять значения этих параметров по умолчанию, если вам не нужны
                    какие-то специфические настройки. Например, если вы захотите сделать сцену в космосе, вам
                    понадобится отключить гравитацию на панели Gravity.</p>

                <div class="container_images_rows">
                    <img src="lb/laba_11/images/image_15.jpg">
                </div>
                <p class="figure">Рисунок 15</p>
                <p>Параметры вывода подбираются следующим способом:</p>
                <p>Допустим, вы хотите сделать видео в формате DVD.</p>
                <p>Используйте настройки формат NTSC 4:3, которые дадут размер изображения 720 x 480 пикселей и частоту
                    30 кадров в секунду. Если вы хотите сделать рендер первых 10 секунд видео, укажите диапазон кадров
                    от 1 до 300 (30 fps). В выпадающем списке формата вывода нужно выбрать mpeg или avi и в имени файла
                    указать разрешение соответственно .mpg или .avi. Остальные параметры, установленные по умолчанию,
                    нас вполне устроят.</p>

                <p class="p_heading">Рендер JPEG Изображения</p>

                <p>Для рендера обычного JPEG изображения настройте обсуждаемые выше опции.</p>
                <p>Важно выбрать на панели Render Output в поле типа файла пункт JPEG. Вы можете настроить самое высокое
                    качество изображения. Время рендера при визуализации одного изображения не так важно, как при
                    создании видео. Нажмите клавишу "F12" или кнопку "Render" для открытия окна рендера. После
                    завершения рендера нажмите клавишу "F3" - это вызовет диалог сохранения полученного изображения.</p>
                <p>Здесь вы сможете указать название вашего файла и выбрать место сохранения.</p>
                <p>Не забудьте указать расширение .jpg после имени файла. Хотя такие операционные системы как Linux и
                    Mac OS X определяют тип файла по его содержимому, операционная система Windows такой возможностью не
                    обладает и не сможет корректно открыть ваше финальное изображение, если в конце имени отсутствует
                    указание типа файла.</p>
                <p>Blender не добавляет расширение к имени файла автоматически.</p>

                <p class="p_heading">Создание Видео Файла</p>

                <p>Семь простых шагов создания видео файла MPEG:</p>
                <ol>
                    <li>В панели Dimension выберите формат изображения "TV NTSC 4:3". Это определит размер изображения
                        по X и Y, соотношение сторон (Aspect Ration) и количество кадров в секунду (Frame Rate).
                        Проверьте слайдер масштабирования под блоком Resolution (оставьте его в значении 100% для
                        получения полного размера изображения, указанного в полях блока).</li>
                    <li>Проверьте значения полей "Start" и "End", определяющих кадр начала и кадр завершения анимации.
                        Также, проверьте параметр скорости анимации - количество кадров в секунду (frames per second).
                        Если тайминг вашей анимации слишком быстрый или слишком медленный, воспользуйтесь параметрами
                        "Map New" (если вам нужно замедлить анимацию в два раза - измените параметр New Mapping на 200 и
                        удвойте значение поля с номером последнего кадра End).</li>
                    <li>Убедитесь, что опция Anti-Aliasing включена и выбрано значение 8.</li>

                    <div class="container_images_rows">
                        <img src="lb/laba_11/images/image_16.jpg">
                    </div>
                    <p class="figure">Рисунок 16</p>
                    <li>На панели Shading проверьте параметры Shadows и Ray-Tracing (включены они или выключены, в
                        зависимости от эффектов, использованных в вашей сцене). Проверьте другие опции отрисовки
                        объектов в этой панели. Не забудьте включить эффект Motion Blur, если вы его использовали в
                        сцене.</li>
                    <li>В панели Output в выпадающем меню выберите MPEG. Также выберите каталог и впишите имя файла для
                        сохранения в поле выше. Если вы работаете в Windows, не забывайте указывать расширение ".mpg" в
                        конце имени файла. В некоторых случаях Blender добавляет к концу файла некоторые числа -
                        количество отрендеренных кадров.</li>
                    <li>Если вы хотите сделать еще какие-то настройки в панелях Encoding, Perfomance, Post Processing и
                        Stamp - сделайте это сейчас. Возможно вы захотите выбрать "DVD" в настройках панели Encoding.
                    </li>
                    <li>И, наконец, нажмите кнопку Animation в самом верху списка панелей для начала процесса рендера
                        анимации.</li>
                </ol>

                <p class="p_heading">Задание 1.</p>
                <p>Откройте вашу сцену с задания 2 с предыдущей лабораторной работы и установите хороший вид из камеры
                    для рендера в JPEG. Установите параметры рендеринга в соответствии со следующими пунктами:</p>
                <ol>
                    <li>Выберите тип выходного файла JPEG и установите качество сжатия (compression) в 100%</li>
                    <li>Включите просчет теней (Shadows)</li>
                    <li>Включите сглаживание (Anti-Aliasing) и установите значение 8</li>
                    <li>Выберите формат TV NTSC 4:3 для получения изображения размером 720 x 480.</li>
                    <li>Дайте имя вашему файлу Landscape_Image.jpg</li>
                </ol>
                <p>Еще раз проверьте все опции, описанные выше, нажмите клавишу F12 для начала рендеринга и сохраните
                    полученное изображение клавишей F3. Не забудьте добавить расширение .jpg в конец имени файла! </p>


                <p class="p_heading">Контрольные вопросы</p>
                <ol>
                    <li>Камера — это …</li>
                    <li>Активная камера — это …</li>
                    <li>Рендер (Render) – это…</li>
                    <li>Назовите Настройки Рендера.</li>
                    <li>Опишите этапы Рендер JPEG изображения.</li>
                    <li>Как создать видео файл?</li>

                </ol>
            </div>
        </div>
        <div class="footer">
            <div class="page-info-container">
                <a href="index.html" class="toc-link" onclick="showTableOfContents()">Содержание</a>
            </div>
        </div>
    </div>

    <!-- Модальное окно -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <div id="container">

            </div>
        </div>
    </div>
    <script src="js/modal.js"></script>
    </div>
</body>

</html>