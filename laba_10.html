<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Документ</title>
    <link rel="stylesheet" href="css/laba.css">
    <link rel="stylesheet" href="css/modal.css">

    <script type="importmap">
        {
        "imports": {
            "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
            "three/examples/jsm/": "https://unpkg.com/three@0.160.0/examples/jsm/"
        }
        }
    </script>
</head>

<body>
    <script src="js/script.js" type="module"></script>
    <div class="container">
        <div class="header">
            <div class="header-top">
                <span class="left-header">Обработка трехмерных графических изображений</span>
                <span class="right-header">2.1 Моделирование освещения, работа с камерой</span>
            </div>
            <div class="header-bottom">
                <a href="index.html" class="toc-link" onclick="showTableOfContents()">Содержание</a>
            </div>
        </div>
        <div class="content">
            <div class="text-content" id="text-content">
                <h1>Лабораторная работа №10</h1>
                <h2 class="topic">Управление источниками света</h2>

                <h3>Цель:</h3>
                <ol>
                    <li>Изучить типы ламп и их настройку</li>
                    <li>Познакомить с Ray-tracing</li>
                </ol>

                <h3>Ход работы</h3>
                <p class="p_heading">Типы Ламп и их настройки</p>

                <p>Создавая сцену в Blender, вы начинаете работу с несколькими основными элементами, включая камеру, но,
                    возможно, без освещения. Запомните, то, что вы видите в камере будет отображено в финальном
                    отрендеренном изображении или анимации (в зависимости от указанных вами параметров рендеринга). Для
                    начала рендеринга изображения просто нажмите клавишу " F12 ". Если изображение чёрное, значит, в
                    вашей сцене не установлено освещение или положение / настройка освещения неверны. Для выхода из окна
                    рендеринга нажмите клавишу Esc.</p>
                <p>В большинстве случаев вам понадобится более одной лампы для правильного освещения вашей сцены.
                    Большинству сцен, как правило, требуются 3-4 лампы.</p>
                <p>Однако, будьте аккуратны и не используйте слишком много ламп! Ниже приведены основные типы ламп,
                    доступные в Blender, и их характеристики:</p>
                <ul>
                    <li>Point - Основная лампа в Blender - излучает одинаковое количество света по всем направлениям.
                    </li>
                    <li>Sun - Освещение с постоянной интенсивностью, вне зависимости от расположения объектов.</li>
                    <li>Spot - Освещение определенной области, эффект, как от прожектора на сцене.</li>
                    <li>Hemi - Широкое освещение, подобное освещению лампы Area.</li>
                    <li>Area - Освещает большую площадь (как в классной комнате). Может быть масштабирована.</li>
                </ul>
                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_1.jpg">
                </div>
                <p class="figure">Рисунок 1</p>
                <p>При использовании традиционного рендера в Blender создавать тень может только лампа Spot, однако с
                    помощью Raytracing любая лампа может образовывать тень.</p>

                <p class="p_heading">Настройки Лампы</p>

                <p>Для создания Лампы установите 3D курсор в нужную позицию и нажмите Shift - " A ", в появившемся меню
                    выберите Lamp (Лампу), а затем её тип. После этого лампа будет добавлена в вашу сцену. Вы можете
                    настроить дополнительные параметры новой лампы.</p>
                <p>Выделите лампу и в Окне Свойств щелкните по закладке Lamp. Вот что вы увидите в этом разделе:</p>


                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_2.jpg">
                </div>
                <p class="figure">Рисунок 2</p>
                <p>Это основные настройки. Лампы Sun и Spot будут иметь несколько отличный набор параметров. </p>
                <p>Лампа Sun может быть использована для симуляции неба и атмосферных эффектов. Вместо добавления
                    большого количества ламп, поэкспериментируйте с параметрами Distance и Energy.</p>
                <p>В больших сценах значение параметра Distance по умолчанию может не давать лампе освещать все объекты.
                </p>

                <p class="p_heading">Настройка Spot - лампы (прожекторная лампа)</p>

                <p>Лампа Spot уникальна тем, что с помощью неё вы можете имитировать туман в сцене и получать тени
                    традиционным для Blender способом.</p>
                <p>Функция Ray-tracing, позволяет получить тень от любого вида ламп, но её использование связано с более
                    сложными расчетами при рендеринге, что увеличивает его продолжительность.</p>
                <p>Если вы просмотрите некоторые профессионально выполненные ролики, идущие по телевизору, то увидите,
                    что Ray-tracing с отражением используется не везде. Это связанно со временем, необходимым на
                    рендеринг анимации. Эту функцию используют только там, где это действительно нужно.</p>
                <p>Давайте рассмотрим параметры лампы Spot:</p>

                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_3.jpg">
                </div>
                <p class="figure">Рисунок 3</p>
                <p>Если тени присутствуют но выглядят плохо, попробуйте увеличить значение параметра Clip Start для
                    уменьшения области расчета или настройте параметры Size и Samples (параметры блока Sample Buffers).
                    Если же вы совсем не видите теней на отрендереном изображении, возможно, вам следует включить опцию
                    Shadow в разделе Render на панели Shading.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_4.jpg">
                </div>
                <p class="figure">Рисунок 4</p>

                <p>Различные лампы могут быть использованы для получения различных эффектов освещения. Как упоминалось
                    ранее, старайтесь не добавлять слишком много ламп для вашей сцены.</p>
                <p>Лучшее всего иметь 3-4 лампы и экспериментировать с их положениями и настройками. Думайте об
                    освещении сцены в Blender, как об освещении в реальном мире.</p>

                <p class="p_heading">Упражнение 1.</p>

                <p>Надо будет создать простую сцену. Нам нужен кубик без нескольких граней, сам кубик должен быть
                    масштабирован, чтобы имитировать стену, а между гранями стены должна висеть сфера.</p>

                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_5.jpg">
                </div>
                <p class="figure">Рисунок 5</p>
                <p>Возможно, вам потребуется настроить расстояние между буквами для лучшего внешнего вида текста.</p>
                <p>Другие типы кривых могут быть использованы для изменения формы текста точно таким же образом. Чтобы
                    случайно не удалить кривую во время работы, переместите ее в неиспользуемый слой (клавиша "M").</p>

                <p>Сцена готова для нашей работы. Выделяем источник света, заходим в <strong>Shading</strong> (F5) там
                    выбираем режим
                    <strong>Lamp buttons</strong>. В меню <strong>Preview</strong> (предварительный просмотр) выбираем
                    <strong>Spot</strong> вместо установленного <strong>Lamp</strong>,
                    затем необходимо проанализировать изменения, возникшие в нашей сцене.
                </p>
                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_6.jpg">
                </div>
                <p class="figure">Рисунок 6</p>

                <p>Как видно на рисунке, изменения коснулись не только окна проекции и рисунка в Preview, изменился даже
                    рендер нашей сцены.</p>

                <p class="p_heading">Преобразование Текста в Меш</p>

                <p>В какой-то момент вам может потребоваться преобразовать Текст в Меш-объект для выполнения
                    определенных действий с ним (например, применения эффекта "Build" или Системы Частиц).</p>
                <p>Для преобразования текста в Меш-объект выделите его и нажмите Alt -"C".</p>

                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_7.jpg" class="glow openModal" id="openModal"
                        data-model="3dmodel/lb_10/LB10_miss01.glb">
                </div>
                <p class="figure">Рисунок 7</p>

                <p>Поэтому давайте поставим источник света параллельно одной из плоскостей кубика и направим появившиеся
                    пунктирные линии на эту плоскость.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_8.jpg">
                </div>
                <p class="figure">Рисунок 8</p>

                <p>Перемещение и вращение источников света происходят точно так же, как и у других объектов. Чтобы
                    переместить источник света, нужно выделить его, а затем, нажав клавишу <strong>G</strong>, указать
                    мышкой место в
                    сцене, где он должен располагаться, так же перемещать лампы можно, используя стрелки на клавиатуре.
                    Чтобы принять изменения, в данном случае изменения расположения в пространстве, нужно нажать
                    <strong>Enter</strong>,
                    чтобы отказаться и вернуть источник света на первоначальное место – <strong>Esc</strong>. Точно
                    такие же правила
                    распространяются и на вращения предметов, в том числе и на светильники. Нажимаем клавишу
                    <strong>R</strong>, указав,
                    что мы намерены вращать наш объект, затем происходит непосредственно вращение или движением мышки по
                    коврику, или же все теми же стрелками на клавиатуре. Принимаем изменения – <strong>Enter</strong>,
                    отказываемся –
                    <strong>Esc</strong>.
                </p>
                <p class="p_heading">Ненаправленное Освещение (Emit)</p>
                <p>Новшеством в Blender 2.5 / 2.6 стала возможность объектов излучать свой собственный цвет.
                    Ненаправленное освещение - это лучи света "отскакивающие" от объекта, как это происходит в реальном
                    мире. На самом деле опция Emit всегда была в настройках материала и объекты могли светиться даже
                    если на них не падал свет от источника, но они никогда не могли подсвечивать окружающие объекты.
                </p>
                <p>Теперь это стало возможным.</p>

                <p class="p_heading">Упражнение 2.</p>
                <p>Нарисуем куб и шар. Для начала давайте настроим материал и включим опцию Emit. В сцене на иллюстрации
                    удалены все лампы и окружение. Единственное, почему куб светится на изображении - это опция Emit.
                    Поверхность, на которой он находится, не подсвечена.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_9.jpg" >
                </div>
                <p class="figure">Рисунок 9</p>
                <p>Такой эффект Blender мог создавать и раньше. Для появления эффекта ненаправленного освещения нужно
                    снова добавить окружение (World). Установите цвет Зенита и Горизонта черным для получения прежнего
                    эффекта окружения.</p>
                <p>В Окне Свойств в разделе World найдите панель Gather и активируйте модель просчета освещения
                    Approximate. Чуть выше должна располагаться панель Indirect Lighting. Активируйте её и разверните
                    список доступных в ней опций.</p>


                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_10.jpg">
                </div>
                <p class="figure">Рисунок 10</p>

                <p>Вы увидите параметр Factor, контролирующий степень влияния эффекта и параметр Bounce, определяющий
                    количество отражений лучей света, исходящих от объекта.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_11.jpg" class="glow openModal" id="openModal"
                        data-model="3dmodel/lb_10/LB10_miss02.glb">
                </div>
                <p class="figure">Рисунок 11</p>
                <p>Теперь, при рендеринге изображения, вы видите отражение от плоскости, на которой расположен куб.
                    Также стала видимой сфера за кубом, которую мы не видели на предыдущем изображении.</p>

                <p class="p_heading">Ray-tracing</p>

                <p>Ray-Tracing используется для создания зеркальных и отражающих поверхностей.</p>
                <p>Эта технология также позволяет создавать эффект прозрачности и преломления (искажения изображения
                    через прозрачные поверхности, как в случае с увеличительным стеклом или линзой).</p>
                <p>С помощью ray-tracing любая лампа сможет отбрасывать тень. Вы можете создавать различные удивительные
                    эффекты с помощью этой технологии - однако время на отрисовку изображения (рендер) значительно
                    увеличится.</p>
                <p>Используйте эту функцию только при необходимости. Не пытайтесь включать Raytrace везде. </p>
                <p>Для использования ray-tracing вам нужно перейти в раздел Render, найти панель Shading и активировать
                    функцию" Ray Tracing". Теперь вы сможете использовать свойства ray-tracing на ваших объектах.</p>

                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_12.jpg">
                </div>
                <p class="figure">Рисунок 12</p>
                <p>Пока вы этого не сделаете, разницы между обычным рендером и рендером с ray-tracing не будет.</p>
                <p class="p_heading">Освещение и Тени</p>
                <p>Для получения ray-теней от ламп, выберите лампу, которая должна создавать тени (при применении
                    технологии Ray-Tracing все типы ламп могут это делать), в Окне Свойств перейдите в раздел Lamp,
                    найдите большую кнопку "Ray Shadow" и нажмите ее.</p>

                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_13.jpg">
                </div>
                <p class="figure">Рисунок 13</p>
                <p>Когда вы включите ray-тени, в настройках большинства ламп появится несколько дополнительных
                    параметров. Параметр "Soft Size" влияет на мягкость границ тени, а параметр "Samples" на качества
                    тени.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_14.jpg">
                </div>
                <p class="figure">Рисунок 14</p>

                <p>Также вы увидите две опции с названием "Adaptive QMC" и "Constant QMC". Это два способа генерации
                    теней. Adaptive работает быстрее, в то время как Constant дает лучшее качество, но требует большего
                    времени для просчета.</p>
                <p>Обычно используются еще несколько настроек при работе с ray-освещением. На панели "Spot Shape" вы
                    найдете параметры Spotlight Size, Spotlight Blend и Halo Intensity. Все они работают точно так же,
                    как и при использовании традиционной Shadow Buffer технологии.</p>

                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_15.jpg">
                    <img src="lb/laba_10/images/image_15.2.jpg">
                </div>
                <p class="figure">Рисунок 15</p>
                <p>Обратите внимание на тени в иллюстрации выше. Левое изображение было отрендерено с параметром Samples
                    равным 1 и параметром Soft равным 0. Правое же со значениями 10 и 1 соответственно.</p>
                <p class="p_heading">Задание 1.</p>
                <p>Создайте подобное изображение с внешним освещением по образцу.</p>
                <p>Настройте освещение так, что бы изображение было приближены к реальности настолько, насколько это
                    возможно.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_16.jpg" class="glow openModal" id="openModal"
                        data-model="3dmodel/lb_10/LB10_z01.glb">
                </div>
                <p class="figure">Рисунок 16</p>

                <p class="p_heading">Задание 2.</p>
                <p>Создайте подобное изображение</p>
                <div class="container_images_rows">
                    <img src="lb/laba_10/images/image_17.jpg" class="glow openModal" id="openModal"
                        data-model="3dmodel/lb_10/LB10_z02.glb">
                </div>
                <p class="figure">Рисунок 17</p>

                <p class="p_heading">Контрольные вопросы</p>
                <ol>
                    <li>Назовите типы ламп.</li>
                    <li>Как выполнить направленное освещение?</li>
                    <li>Для чего используется Ray-Tracing?</li>
                    <li>Как установить освещение и тени при помощи Ray-Tracing?</li>

                </ol>
            </div>
        </div>
        <div class="footer">
            <div class="page-info-container">
                <a href="index.html" class="toc-link" onclick="showTableOfContents()">Содержание</a>
            </div>
        </div>
    </div>

    <!-- Модальное окно -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <div id="container">

            </div>
        </div>
    </div>
    <script src="js/modal.js"></script>
    </div>
</body>

</html>