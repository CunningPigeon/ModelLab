<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Документ</title>
    <link rel="stylesheet" href="css/laba.css">
    <link rel="stylesheet" href="css/modal.css">

    <script type="importmap">
        {
        "imports": {
            "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
            "three/examples/jsm/": "https://unpkg.com/three@0.160.0/examples/jsm/"
        }
        }
    </script>
</head>

<body>
    <script src="js/script.js" type="module"></script>
    <div class="container">
        <div class="header">
            <div class="header-top">
                <span class="left-header">Обработка трехмерных графических изображений</span>
                <span class="right-header">2.2 Редактор материалов, имитация внешней среды</span>
            </div>
            <div class="header-bottom">
                <a href="index.html" class="toc-link" onclick="showTableOfContents()">Содержание</a>
            </div>
        </div>
        <div class="content">
            <div class="text-content" id="text-content">
                <h1>Лабораторная работа №13</h1>
                <h2 class="topic">Исследование способов имитации внешней среды при визуализации сцен</h2>

                <h3>Цель:</h3>
                <ol>
                    <li>Изучить способы имитации внешней среды</li>
                </ol>

                <h3>Ход работы</h3>
                <p class="p_heading">Использование Цвета, Звезд и Тумана</p>


                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_1.jpg">
                </div>
                <p class="figure">Рисунок 1</p>
                <p>Вы сделали очень красивую сцену, но ей не хватает по настоящему хорошего фона. В зависимости от
                    версии Blender, которую вы используете, на изображении будет либо черный, либо серый, либо синий
                    фон. Это связано с тем, что некоторые ранние версии Blender при запуске не имели настроек окружения
                    по умолчанию (черный фон). В новых версиях при запуске создается стандартное окружение видимое при
                    рендере как серый или синий фон. Blender предоставляет вам несколько основных типов настроек
                    Окружения в разделе World (окружение). Вы можете управлять цветами в верхней и нижней части фона
                    (Zenith - Зенит и Horizon - Горизонт), добавлять звезды, туман, облака и конечно же загружать
                    изображения в качестве окружения.</p>
                <p>Для создания Окружения в Окне Свойств перейдите в раздел World. Если в вашей сцене нет Окружения -
                    добавьте его кнопкой "New". Будет создано стандартное Окружение с серым цветом горизонта и зенита.
                    Нажмите клавишу "F12" и сделайте рендер вашей сцены.</p>
                <p>В разделе World вам доступны следующие настройки:</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_2.jpg">
                </div>
                <p class="figure">Рисунок 2</p>
                <p>Когда устанавливаете цвет окружения в виде простого градиента, активируйте опцию "Blend" и установите
                    цвет горизонта - "Horizon" более светлым, чем цвета зенита "Zenith".</p>

                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_3.jpg">
                </div>
                <p class="figure">Рисунок 3</p>
                <p class="p_heading">Туман</p>
                <p>Для использования тумана в сцене, вам потребуется настроить цвет Зенита и Горизонта в соответствии с
                    желаемым цветом тумана (обычно средне-серым).</p>
                <p>Активируйте панель "Mist" и настройте значения параметров Start (расстояние от камеры до начала
                    действия эффекта) и Depth (глубина тумана). Вы также можете настраивать High (высоту тумана) для
                    имитации тумана стелющегося по земле.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_4.jpg">
                </div>
                <p class="figure">Рисунок 4</p>
                <p>Слайдер Intensity позволит изменять интенсивность тумана. Параметры Depth (глубины) и Intensity
                    (интенсивности) работают совместно, для придания лучшего вида туману учитывайте это.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_5.jpg">
                </div>
                <p class="figure">Рисунок 5</p>
                <p class="p_heading">Звезды</p>
                <p>При использовании Звезд в сцене, вам следует выбрать черный цвет для Зенита и Горизонта (для сцены в
                    космосе). Активируйте панель Stars, настройте параметры Separation (расстояние между звездами) и
                    Min. Distance - расстояние от камеры до начала действия эффекта.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_6.jpg">
                </div>
                <p class="figure">Рисунок 6</p>
                <p>Вы можете также настроить параметр Size (размер звезд) и Colors (случайность выбора цвета звезды).
                    Blender создает по настоящему 3D-пространство со звездами. Это значит что при движении камеры звезды
                    будут пролетать мимо вас.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_7.jpg">
                </div>
                <p class="figure">Рисунок 7</p>
                <p class="p_heading">Создание 3D-Облаков</p>
                <p>Есть различные способы создания облаков, но наиболее простой - использовать текстуру в настройках
                    окружения.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_8.jpg">
                </div>
                <p class="figure">Рисунок 8</p>
                <p>Для создания облаков в сцене создайте Окружение, как было описано выше. Установите белый цвет для
                    Zenith (Зенита). Цвет Horizon (Горизонта) выберите светло-синим (убедитесь что параметр Blend
                    активирован).</p>
                <p>Теперь в Окне Свойств перейдите в раздел Texture и создайте текстуру типа "Clouds" (как вы можете
                    заметить, Текстура ссылается на Окружение, а не на Материал объекта). Перейдите вниз на панель
                    Mapping и установите слайдеры Size X и Y (Попробуйте уменьшить значение слайдера X и увеличить
                    значение Y), для получения желаемого эффекта.</p>
                <p>Нажмите клавишу "F12" и проверьте результат. Если вы планируете перемещать камеру в сцене, вам
                    необходимо нажать кнопку "Real" в разделе World. Попробуйте использовать значение Voronoi F2-F1
                    параметра Noise Basis для придания облакам большей "пушистости".</p>
                <p>Облака тоже могут быть анимированы, мы поговорим об этом в следующих главах.</p>
                <p class="p_heading">Использование Изображения в качестве Фона</p>
                <p>Если вы планируете использовать изображение в качестве фона, выберите для этого большое изображение
                    высокого качества. Изображения с низким разрешением имеют тенденцию к зернистости и не создают
                    реалистичного эффекта. Для использования изображения в качестве фона создайте Окружение, перейдите в
                    раздел Texture. На этот раз выберите тип текстуры "Image or Movie" и загрузите выбранное вами
                    изображение . Вернитесь к настройкам Окружения (раздел World). Выберите для Зенита (Zenuth) белый
                    цвет и активируйте опцию Blend (а так же опцию Paper по желанию). После этого текстура должна
                    выглядеть гораздо лучше. Если вы сейчас сделаете рендер (F12), изображение будет видно, но оно может
                    выглядеть как черно- белое изображение. Для того, чтобы это исправить, зайдите в раздел Texture и в
                    панели Influence активируйте опции "Blend", "Horizon" и "Zenith". Это должно исправить проблему и
                    вернуть цвета текстуры в их нормальное состояние.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_9.jpg">
                </div>
                <p class="figure">Рисунок 9</p>
                <p>Если вы хотите создать туман или эффект пушистых облаков, которые движутся и перекатываются,
                    используйте текстуру Clouds и параметры в панели Mist.</p>
                <p>Текстура Clouds может быть анимирована (об этом поговорим чуть позже) и будет выглядеть объемно при
                    использовании параметров панели Mist.</p>


                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_10.jpg">
                </div>
                <p class="figure">Рисунок 10</p>

                <p class="p_heading">Задание 1.</p>
                <p>Добавление Окружения к Вашему Ландшафту</p>
                <p>Откройте вашу сцену "Landscape". Перед созданием окружения нам нужно добавить маяк в общую сцену. В
                    открытой сцене Landscape зайдите в меню"File"и выберите пункт "Append". Найдите и выберите ваш файл
                    с маяком (Lighthouse).</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_11.jpg">
                    <img src="lb/laba_17/images/image_11.2.jpg">
                </div>
                <p class="figure">Рисунок 11</p>
                <p>В окне добавления выберите "Objects", после чего вы увидите все объекты, присутствующие в файле
                    "Lighthouse". </p>

                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_12.jpg">
                </div>
                <p class="figure">Рисунок 12</p>
                <p>Здесь вы должны увидеть камеру, пару ламп и объект Circle представляющий сам маяк. Если вы видите
                    несколько объектов Circle, возможно вы забыли объединить меши в предыдущем задании. Снова откройте
                    сцену маяка и сделайте объединение до добавления маяка в сцену с ландшафтом. Щелкните по мешу с
                    именем Circle (или Circle.00X), который представляет маяк, убедитесь что он выделен и нажмите кнопку
                    " Link / Append from Library ".</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_13.jpg">
                </div>
                <p class="figure">Рисунок 13</p>
                <p>Ваш маяк должен появиться в сцене с ландшафтом.</p>
                <p>Возможно, его потребуется немного смаштабировать и переместить в нужное место.</p>
                <p>Для точного масштабирования и перемещения всегда работайте в 3-х основных видах (Num1, Num3, Num7).
                    Попробуйте сделать рендер и посмотреть что получилось.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_14.jpg">
                </div>
                <p class="figure">Рисунок 14</p>
                <p>Пришло время добавить окружение к вашей сцене. Вы всегда можете поэкспериментировать с настройками,
                    но наша задача получить " темную штормовую ночь ". </p>
                <p>Начнем с перехода в раздел World и удалим существующее окружение кнопкой "X" в блоке с имени
                    окружения. Затем добавим новое нажатием кнопки "New".</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_15.jpg">
                </div>
                <p class="figure">Рисунок 15</p>
                <p>Раз уж мы захотели получить туман - на панели Mistу становим цвет Зенита и Горизонта в два слегка
                    отличающихся оттенка серого. Сделать это можно щелкнув в образец цвета и выбрав нужный оттенок
                    серого на цветовом круге. Активируйте опцию "Blend", если она еще не активна.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_16.jpg">
                </div>
                <p class="figure">Рисунок 16</p>
                <p>Включите туман для вашей сцены на панели Mist. Установите параметр Depth в значение близкое 25,
                    параметр Intensity в 0, Start в 0, Height в 0. Сделайте рендер изображения и при необходимости
                    измените параметры тумана. Ваша задача сделать так, что бы маяк был виден, но слегка в тумане.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_17.jpg">
                </div>
                <p class="figure">Рисунок 17</p>
                <p>Вам нужно получить что то, близкое к этому:</p>

                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_18.jpg">
                </div>
                <p class="figure">Рисунок 18</p>
                <p>Туман выглядит вполне прилично, но было бы хорошо видеть некоторую глубину. Часто туман выглядит
                    "волнообразным" с различной интенсивностью. Для этого мы наложим на туман текстуру Облака (Cloud).
                    Перейдите в раздел Texture добавьте текстуру "Cloud". Убедитесь, что кнопка World, рядом с областью
                    предпросмотра, нажата. Попробуйте поменять типы шумов (Noise Basis) для получения более
                    реалистичного эффекта, на ваш взгляд.</p>


                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_19.jpg">
                </div>
                <p class="figure">Рисунок 19</p>
                <p>Теперь перейдите обратно в раздел World, сделайте рендер вашей сцены и сделайте необходимые
                    настройки. Вы можете изменить размер текстуры облаков, цвета, поработать с настройками тумана (Depth
                    и Intensity). Вы также можете захотеть вернуться к настройкам Текстуры и поменять тип шума (Noise
                    Basis). Позже мы анимируем туман и заставим его двигаться.</p>
                <p>Настройки, использованные для рендера:</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_20.jpg">
                </div>
                <p class="figure">Рисунок 20</p>

                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_21.jpg">
                </div>
                <p class="figure">Рисунок 21</p>
                <p>Что за сцена с маяком без луча, светящего сквозь туман?</p>
                <p>Поместите 3D курсор в центр осветительной части маяка. В то место, откуда должен светить прожектор.
                    Используйте три основных вида (Num 1,3,7) для точного размещения 3D-курсора.</p>
                <p>После этого перейдите в вид спереди (Num 1) и добавьте лампу Spot (Shift -"A" → Add → Lamp → Spot).
                    Поверните лампу так, что бы она светила в нужном направлении и не прямо в камеру.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_22.jpg">
                </div>
                <p class="figure">Рисунок 22</p>
                <p>После добавления лампы перейдите в раздел Lamp в Окне Свойств и убедитесь что выбрана модель просчета
                    теней Buffer Shadow. На панели Lamp установите значение параметра Energy примерно 1.2. Перейдите
                    ниже на панель Spot Shape и измените значение слайдера Size на близкое к 10. Это даст направленный
                    луч с шириной 10 градусов. Активируйте опцию Halo. Выполните рендеринг сцены. Скорее всего вам
                    понадобится подобрать параметры Distance, Energy и Halo Intencity для лучшего вида луча в сцене.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_23.jpg">
                </div>
                <p class="figure">Рисунок 23</p>
                <p>Ваша финальная визуализация (рендеринг) должна выглядеть близко к приведенной ниже. Выглядит хорошо,
                    но чего-то не хватает! В центре осветительной части маяка должно быть что-то, что излучает свет.</p>


                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_24.jpg">
                </div>
                <p class="figure">Рисунок 24</p>
                <p>Пришло время добавить в наш маяк нечто, излучающее свет. Мы с вами создадим меш, состоящий из одной
                    вершины, и наложим на него материал с эффектом Halo.</p>
                <p>Убедитесь что 3D курсор по-прежнему в центре осветительной части маяка. Если он не на месте, самый
                    простой способ поместить его в нужную позицию - выделить меш маяка, нажать Shift -" S " и в
                    появившемся меню выбрать "Cursor to Selection".</p>

                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_25.jpg">
                </div>
                <p class="figure">Рисунок 25</p>
                <p>Эта замечательная команда пригодится вам еще не раз. Из вида сверху добавьте плоскость, перейдите в
                    Режим Редактирования (Tab) и удалите все вершины, кроме одной. Переместите оставшуюся вершину в
                    центр маяка (вы также можете воспользоваться командой Shift -" S ", но на этот раз выбрать
                    "Selection to Cursor"). После перемещения вершины в нужное место выйдите из Режима Редактирования
                    (Tab).</p>
                <p>Теперь перейдите в раздел Materials в Окне Свойств и добавьте новый материал (кнопка " Add ").
                    Нажмите кнопку Halo. Ниже должна появиться панель Halo, где будут расположены некоторые параметры
                    эффекта ореола.</p>
                <p>Установите Halo Size (Размер Ореола) равным 0.1 или немного больше. Включите эффекты Rings (кольца) и
                    Star (лучи) и попробуйте увеличить их количество.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_26.jpg">
                </div>
                <p class="figure">Рисунок 26</p>
                <p>Возможно, вам захочется поменять значения параметров Hardness и Add.</p>
                <p>Ваш конечный результат должен выглядеть примерно как на иллюстрации ниже, с кольцом и звездой в
                    центре маяка. Возможно, вам потребуется сделать окружение несколько темнее для получения наилучшего
                    результата.</p>
                <div class="container_images_rows">
                    <img src="lb/laba_17/images/image_27.jpg">
                </div>

                <p class="p_heading">Контрольные вопросы</p>
                <ol>
                    <li>Как добавить туман в сцене?</li>
                    <li>Как добавить звезды в сцене?</li>
                    <li>Опишите этапы создания 3D облаков?</li>
                </ol>
            </div>
        </div>
        <div class="footer">
            <div class="page-info-container">
                <a href="index.html" class="toc-link" onclick="showTableOfContents()">Содержание</a>
            </div>
        </div>
    </div>

    <!-- Модальное окно -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <div id="container">

            </div>
        </div>
    </div>
    <script src="js/modal.js"></script>
    </div>
</body>

</html>